<div class="segment"
     *ngIf="tao_edge.visible"
     [ngClass]="{
    'circle': tao_edge.source == tao_edge.target,
    'line': tao_edge.source != tao_edge.target,
    'selected': selected,
    'dotted': tao_edge.type == 'Cancelling',
    'straight': tao_edge.type == 'Scheduling' || tao_edge.type == 'Pending' || tao_edge.type == 'Succeeding' || tao_edge.type == 'Preceding'
    }"
     [ngStyle]="{
    'top': (tao_edge.source == tao_edge.target) ? (tao_edge.startY - 70) + 'px' : (twoWayEdge() ? (parse(tao_edge.startY) + calculateDisplacement()) + 'px' : tao_edge.startY + 'px'),
    'left': (tao_edge.source == tao_edge.target) ? (tao_edge.startX - 35) + 'px' : (tao_edge.startX) + 'px',
    'width': getLength(),
    'transform': (tao_edge.source == tao_edge.target) ? 'rotate(108deg)' : 'rotate(' + getAngle() + ')'}">
    <div class="arrow-tip"
         [ngStyle]="{
        'margin': (tao_edge.source == tao_edge.target) ? '-5px 30px 0 0' : '-5px -2px 0 0'
    }"></div>
</div>